---
import Layout from "@/layouts/Layout.astro";
import AIGenerateForm from "@/components/AIGenerateForm.tsx";
import AIGenerateResults from "@/components/AIGenerateResults.tsx";
// import { useState } from "react"; // Removed: unused
import type { GeneratedFlashcardDTO } from "@/types";

let initialFlashcards: GeneratedFlashcardDTO[] = []; // Renamed for clarity, will be passed as prop

// const handleFlashcardsGenerated = (flashcards: GeneratedFlashcardDTO[]) => { // Removed: not used reactively here
//   console.log("Fiszki wygenerowane w generate.astro:", flashcards);
//   generatedFlashcards = flashcards;
// };
---

<Layout title="Generuj Fiszki AI">
  <div class="container mx-auto py-8 px-4">
    <h1 class="text-3xl font-bold mb-6 text-center">Generowanie Fiszki AI</h1>
    <div class="grid grid-cols-1 gap-8">
      <AIGenerateForm client:load />
      {/* Pass initial (empty) flashcards; AIGenerateResults will update itself via events */}
      <AIGenerateResults client:load generatedFlashcards={initialFlashcards} />
    </div>
  </div>
</Layout>

<script>
  // generate.astro client script placeholder console.log("generate.astro client script loaded.");
</script>
